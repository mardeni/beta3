<!DOCTYPE html>
<html>
	<head>
		<style>
			table,tr,td{
				border: 1px solid black;
			}
			img, td, input{
				width: 50px;
				height: 50px;
				text-align: center;
			}
			/* Chrome, Safari, Edge, Opera */
			input::-webkit-outer-spin-button,
			input::-webkit-inner-spin-button {
			  -webkit-appearance: none;
			  margin: 0;
			}

		
		</style>
		
	</head>
	
	<body>
		<h1>BETA III</h1>
		<h2 id="timer">- -:- -</h2>
		<table id="tableGabarito">
			<tr>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td>	
			</tr>
			<tr>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td>	
			</tr>
		</table>
		<br />
		<table class="table">
			<tr>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>	
			</tr>
			<tr>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>	
			</tr>
		</table>
		<table class="table">
			<tr>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>	
			</tr>
			<tr>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>	
			</tr>
			
		</table>
		<table class="table">
			<tr>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>	
			</tr>
			<tr>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>	
			</tr>
		</table>
		<table class="table">
			<tr>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>	
			</tr>
			<tr>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>	
			</tr>
		</table>
		<table class="table">
			<tr>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>	
			</tr>
			<tr>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>	
			</tr>
		</table>
		<table class="table">
			<tr>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>	
			</tr>
			<tr>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>	
			</tr>
		</table>
		<table class="table">
			<tr>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>	
			</tr>
			<tr>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>
				<td></td><td></td>	
			</tr>
		</table>
		<div>
			<button onclick="corrigir()">Corrigir</button>
		</div>
	</body>
	<script type="text/javascript">
			let interval;
			let imagens = shuffle(
				[
					"https://i.ibb.co/z8b6Czn/1.png",
					"https://i.ibb.co/gvdPkL2/2.png",
					"https://i.ibb.co/zmMRb4G/3.png",
					"https://i.ibb.co/J3y2qWx/4.png",
					"https://i.ibb.co/RyVSYV6/5.png",
					"https://i.ibb.co/j5KDGn4/6.png",
					"https://i.ibb.co/dQ7NV49/7.png",
					"https://i.ibb.co/d7FrwXx/8.png",
					"https://i.ibb.co/PTPMH9H/9.png"
				]
			);
			let numeros = [1,2,3,4,5,6,7,8,9];
		
			//posiciona as imagens de referencia
			lugaresDosElementos = document.querySelectorAll("#tableGabarito tr:first-child td");
			lugaresDosElementos.forEach( 

				function(e,i,arr) {
			        let imagem = document.createElement("img");
			        imagem.setAttribute("src",imagens[i]);
			        e.appendChild(imagem);
			     
			     }
			);

			lugaresDosElementos = document.querySelectorAll("#tableGabarito tr:nth-child(2) td");
			lugaresDosElementos.forEach( 

				function(e,i,arr) {
			        let textNode = document.createTextNode(i+1);
			        e.appendChild(textNode);
			     
			     }
			);


			let lugaresDasImgProva = document.querySelectorAll(".table tr:first-child td");
			let lugaresDasRepostas = document.querySelectorAll(".table tr:nth-child(2) td");

			for(let i = 0; i < lugaresDasImgProva.length; i++){
				let imagem = document.createElement("img");
		        indexImagemEscolhida = Math.floor(Math.random() * imagens.length);
		        imagem.setAttribute("src",imagens[indexImagemEscolhida]+".png");
		       
		        lugaresDasImgProva[i].appendChild(imagem);

		        let resposta = document.createElement("input");
		        resposta.setAttribute("type","text");
		        resposta.setAttribute("maxlength","1");
		        resposta.setAttribute("gabarito",numeros[indexImagemEscolhida]);
		        
		        lugaresDasRepostas[i].appendChild(resposta);
			}

			function corrigir(){

				let acertos = 0;
				let erros = 0;
				let respostas = document.querySelectorAll(".table tr:nth-child(2) input");
				
				respostas.forEach( 
					function(e,i,a) {
						if(e.getAttribute("gabarito") == e.value)
						{
							acertos++;
						}
						else
						{
							erros++;
						}
					}
				);
				alert( "Acertos: " + acertos + "\nErros: " + erros + "\nTotal: " + (acertos + erros));

			}
			
			function startTimer(duration, display) {
			    var timer = duration, minutes, seconds;
			    interval = setInterval(function () {
			        minutes = parseInt(timer / 60, 10)
			        seconds = parseInt(timer % 60, 10);

			        minutes = minutes < 10 ? "0" + minutes : minutes;
			        seconds = seconds < 10 ? "0" + seconds : seconds;

			        display.textContent = minutes + ":" + seconds;

			        if (--timer < 0) {
			            timer = duration;
			            clearInterval(interval);
			            corrigir();
			        }
			    }, 1000);
			}

			window.onload = function () {
			    var twoMinutes = 60 * 2,
			    	display = document.querySelector('#timer');
			    startTimer(twoMinutes, display);
			};

			function shuffle(array) {
			  let currentIndex = array.length,  randomIndex;

			  // While there remain elements to shuffle...
			  while (currentIndex != 0) {

			    // Pick a remaining element...
			    randomIndex = Math.floor(Math.random() * currentIndex);
			    currentIndex--;

			    // And swap it with the current element.
			    [array[currentIndex], array[randomIndex]] = [
			      array[randomIndex], array[currentIndex]];
			  }

			  return array;
			}

		</script>
</html>